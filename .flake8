[flake8]
max-line-length = 100
# Pragmatic ignores for a cleaner CI:
# E203, W503 - Black compatibility
# E712 - comparison to True/False (too many in tests)
# F541 - f-string with no placeholders (minor issue)
# E402 - module import not at top (needed for sys.path in tests)
# W293 - blank line contains whitespace (trivial)
# E501 - line too long (many are in docstrings or have good reasons)
extend-ignore = E203,W503,E712,F541,E402,W293,E501

# Per-file ignores for specific cases
per-file-ignores =
    # Tests often have unused variables for side-effect checking
    tests/*:F841
    # Complex functions that are legitimately complex
    src/stinger/core/api_key_manager.py:C901
    src/stinger/core/audit.py:C901
    src/stinger/core/config_validator.py:C901
    src/stinger/core/pipeline.py:C901
    src/stinger/guardrails/simple_code_generation_guardrail.py:C901
    src/stinger/guardrails/topic_guardrail.py:C901
    tests/shared/base_runner.py:C901

# Exclude directories
exclude =
    .git,
    __pycache__,
    build,
    dist,
    *.egg-info,
    .venv,
    venv,
    .tox,
    .mypy_cache,
    .pytest_cache,
    demos/web_demo/frontend/node_modules

# Configure complexity
max-complexity = 10

# Configure import order
import-order-style = google
application-import-names = stinger,tests